<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    .container {
      position: relative;
      width: 600px;
      height: 400px;
      overflow: hidden;
    }
    .before, .after {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
    }
    .before {
      width: 100%;
    }
    .after {
      width: 50%;
      overflow: hidden;
    }
    .after img {
      position: relative;
      left: -50%;
    }
    .slider {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      width: 4px;
      background: #fff;
      cursor: ew-resize;
      z-index: 2;
    }
  </style>
</head>
<body>

<div class="container" id="sliderContainer">
  <img src="before1.jpg" class="before" />
  <div class="after">
    <img src="after1.jpg" />
  </div>
  <div class="slider" id="slider"></div>
</div>

<script>
  const slider = document.getElementById('slider');
  const container = document.getElementById('sliderContainer');
  const after = container.querySelector('.after');

  slider.onmousedown = function(e) {
    document.onmousemove = function(e) {
      const rect = container.getBoundingClientRect();
      let offset = e.clientX - rect.left;
      if (offset < 0) offset = 0;
      if (offset > rect.width) offset = rect.width;
      slider.style.left = offset + "px";
      after.style.width = offset + "px";
    }
    document.onmouseup = () => document.onmousemove = null;
  };
</script>

</body>
</html>
